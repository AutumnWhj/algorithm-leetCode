/**
 * å¿«é€Ÿæ’åº
 * æ ¸å¿ƒæ€æƒ³ä¸‰æ­¥
 * 1ã€åœ¨æ•°æ®é›†ä¸­é€‰å–ä¸€ä¸ªâ€œåŸºå‡†â€ï¼ˆpivotï¼‰
 * 2ã€æ‰€æœ‰å°äºåŸºå‡†çš„å€¼éƒ½ç§»åˆ°å·¦è¾¹ğŸ‘ˆğŸ»
 * 3ã€æ‰€æœ‰å¤§äºåŸºå‡†çš„å€¼éƒ½ç§»åŠ¨å³è¾¹ğŸ‘‰ğŸ»
 */
// å¿«é€Ÿæ’åºå…¥å£
function quickSort(arr, left = 0, right = arr.length - 1) {
  // å®šä¹‰é€’å½’è¾¹ç•Œï¼Œè‹¥æ•°ç»„åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œåˆ™æ²¡æœ‰æ’åºå¿…è¦
  if(arr.length > 1) {
      // lineIndexè¡¨ç¤ºä¸‹ä¸€æ¬¡åˆ’åˆ†å·¦å³å­æ•°ç»„çš„ç´¢å¼•ä½
      const lineIndex = partition(arr, left, right)
      // å¦‚æœå·¦è¾¹å­æ•°ç»„çš„é•¿åº¦ä¸å°äº1ï¼Œåˆ™é€’å½’å¿«æ’è¿™ä¸ªå­æ•°ç»„
      if(left < lineIndex-1) {
        // å·¦å­æ•°ç»„ä»¥ lineIndex-1 ä¸ºå³è¾¹ç•Œ
        quickSort(arr, left, lineIndex-1)
      }
      // å¦‚æœå³è¾¹å­æ•°ç»„çš„é•¿åº¦ä¸å°äº1ï¼Œåˆ™é€’å½’å¿«æ’è¿™ä¸ªå­æ•°ç»„
      if(lineIndex<right) {
        // å³å­æ•°ç»„ä»¥ lineIndex ä¸ºå·¦è¾¹ç•Œ
        quickSort(arr, lineIndex, right)
      }
  }
  return arr
}
// ä»¥åŸºå‡†å€¼ä¸ºè½´å¿ƒï¼Œåˆ’åˆ†å·¦å³å­æ•°ç»„çš„è¿‡ç¨‹
function partition(arr, left, right) {
  // åŸºå‡†å€¼é»˜è®¤å–ä¸­é—´ä½ç½®çš„å…ƒç´ 
  let pivotValue = arr[Math.floor(left + (right-left)/2)]
  // åˆå§‹åŒ–å·¦å³æŒ‡é’ˆ
  let i = left
  let j = right
  // å½“å·¦å³æŒ‡é’ˆä¸è¶Šç•Œæ—¶ï¼Œå¾ªç¯æ‰§è¡Œä»¥ä¸‹é€»è¾‘
  while(i<=j) {
    // å·¦æŒ‡é’ˆæ‰€æŒ‡å…ƒç´ è‹¥å°äºåŸºå‡†å€¼ï¼Œåˆ™å³ç§»å·¦æŒ‡é’ˆ
    while(arr[i] < pivotValue) {
        i++
    }
    // å³æŒ‡é’ˆæ‰€æŒ‡å…ƒç´ å¤§äºåŸºå‡†å€¼ï¼Œåˆ™å·¦ç§»å³æŒ‡é’ˆ
    while(arr[j] > pivotValue) {
        j--
    }

    // è‹¥i<=jï¼Œåˆ™æ„å‘³ç€åŸºå‡†å€¼å·¦è¾¹å­˜åœ¨è¾ƒå¤§å…ƒç´ æˆ–å³è¾¹å­˜åœ¨è¾ƒå°å…ƒç´ ï¼Œäº¤æ¢ä¸¤ä¸ªå…ƒç´ ç¡®ä¿å·¦å³ä¸¤ä¾§æœ‰åº
    if(i<=j) {
        swap(arr, i, j)
        i++
        j--
    }
  }
  // è¿”å›å·¦æŒ‡é’ˆç´¢å¼•ä½œä¸ºä¸‹ä¸€æ¬¡åˆ’åˆ†å·¦å³å­æ•°ç»„çš„ä¾æ®
  return i
}

// å¿«é€Ÿæ’åºä¸­ä½¿ç”¨ swap çš„åœ°æ–¹æ¯”è¾ƒå¤šï¼Œæˆ‘ä»¬æå–æˆä¸€ä¸ªç‹¬ç«‹çš„å‡½æ•°
function swap(arr, i, j) {
  [arr[i], arr[j]] = [arr[j], arr[i]]
}